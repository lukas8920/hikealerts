Pentaho configuration requires...

1) copy shell variables to java environment 
OPT="$OPT $PENTAHO_DI_JAVA_OPTIONS -Duser.timezone=Pacific/Auckland -Djava.library.path=$LIBPATH $JAVA_ENDORSED_DIRS $JAVA_LOCALE_COMPAT -DKETTLE_HOME=$KETTLE_HOME -DKETTLE_REPOSITORY=$KETTLE_REPOSITORY -DKETTLE_USER=$KETTLE_USER -DKETTLE_PASSWORD=$KETTLE_PASSWORD -DKETTLE_PLUGIN_PACKAGES=$KETTLE_PLUGIN_PACKAGES -DKETTLE_LOG_SIZE_LIMIT=$KETTLE_LOG_SIZE_LIMIT -DKETTLE_JNDI_ROOT=$KETTLE_JNDI_ROOT -DSQL_SERVER_USER=$SQL_SERVER_USER -DSQL_SERVER_PW=$SQL_SERVER_PW -DPENTAHO_SERVER_USER=$PENTAHO_SERVER_USER -DPENTAHO_SERVER_PW=$PENTAHO_SERVER_PW"
2) configure carte-config.xml